<div class="modal-overlay" *ngIf="isVisible" (click)="onBackdropClick($event)" (keydown.escape)="close()">
  <div class="modal-container">
    <div class="modal-header">
      <h2>Form Submission Result</h2>
      <button class="close-button" (click)="close()" aria-label="Close modal">
        <span>&times;</span>
      </button>
    </div>
    
    <div class="modal-body" *ngIf="submissionData">
      <div class="submission-summary">
        <h3>Auction Listing Created Successfully!</h3>
        <div class="summary-cards">
          <div class="card">
            <div class="card-label">Listing ID</div>
            <div class="card-value">{{ submissionData.id }}</div>
          </div>
          <div class="card">
            <div class="card-label">Title</div>
            <div class="card-value">{{ submissionData.title }}</div>
          </div>
          <div class="card">
            <div class="card-label">Base Price</div>
            <div class="card-value">{{ submissionData.base_price | currency:'SAR':'symbol':'1.2-2' }}</div>
          </div>
          <div class="card">
            <div class="card-label">Status</div>
            <div class="card-value status-badge">{{ submissionData.status }}</div>
          </div>
          <div class="card">
            <div class="card-label">Auction End Time</div>
            <div class="card-value">{{ submissionData.auction_end_time | date:'medium' }}</div>
          </div>
        </div>
      </div>

      <div class="json-section">
        <div class="section-header">
          <h4>Complete JSON (POC)</h4>
          <div class="action-buttons">
            <button class="btn btn-secondary" (click)="copyToClipboard()">
              ðŸ“‹ Copy JSON
            </button>
            <button class="btn btn-secondary" (click)="downloadJson()">
              ðŸ’¾ Download JSON
            </button>
          </div>
        </div>
        
        <div class="json-container">
          <pre class="json-display">{{ submissionData | json }}</pre>
        </div>
      </div>

      <div class="form-data-section">
        <h4>Your Form Data</h4>
        <div class="form-data-grid">
          <div 
            class="data-item" 
            *ngFor="let item of submissionData.dynamic_attributes | keyvalue"
          >
            <span class="data-label">{{ formatKey(item.key) }}:</span>
            <span class="data-value">{{ item.value }}</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal-footer">
      <button class="btn btn-primary" (click)="close()">
        Close
      </button>
    </div>
  </div>
</div>